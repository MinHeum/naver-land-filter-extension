# ë„¤ì´ë²„ ë¶€ë™ì‚° í•„í„° í™•ì¥ í”„ë¡œê·¸ë¨ - êµ¬ì¡°í™”ëœ ë²„ì „

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
â”œâ”€â”€ src/                          # ì†ŒìŠ¤ ì½”ë“œ
â”‚   â”œâ”€â”€ core/                     # í•µì‹¬ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ FilterManager.js      # í•„í„° ê´€ë¦¬ í•µì‹¬ í´ë˜ìŠ¤
â”‚   â”‚   â””â”€â”€ DOMObserver.js        # DOM ë³€í™” ê°ì§€
â”‚   â”œâ”€â”€ ui/                       # UI ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ FilterPanel.js        # í•„í„° íŒ¨ë„ UI
â”‚   â”‚   â”œâ”€â”€ StatusIndicator.js    # ìƒíƒœ í‘œì‹œê¸°
â”‚   â”‚   â””â”€â”€ NotificationManager.js # ì•Œë¦¼ ê´€ë¦¬
â”‚   â”œâ”€â”€ filters/                  # í•„í„° ê´€ë ¨
â”‚   â”‚   â”œâ”€â”€ BaseFilter.js         # í•„í„° ê¸°ë³¸ ì¶”ìƒ í´ë˜ìŠ¤
â”‚   â”‚   â”œâ”€â”€ FloorFilter.js        # ì¸µìˆ˜ í•„í„° êµ¬í˜„
â”‚   â”‚   â””â”€â”€ FilterRegistry.js     # í•„í„° ë“±ë¡/ê´€ë¦¬
â”‚   â”œâ”€â”€ storage/                  # ì €ì¥ì†Œ ê´€ë¦¬
â”‚   â”‚   â””â”€â”€ StorageManager.js     # Chrome Storage + LocalStorage
â”‚   â”œâ”€â”€ utils/                    # ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â”œâ”€â”€ Constants.js          # ìƒìˆ˜ ì •ì˜
â”‚   â”‚   â””â”€â”€ DOMUtils.js          # DOM ê´€ë ¨ ìœ í‹¸ë¦¬í‹°
â”‚   â””â”€â”€ main.js                   # ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ í´ë˜ìŠ¤
â”œâ”€â”€ content-new.js                # ìƒˆë¡œìš´ ì§„ì…ì  (ES6 ëª¨ë“ˆ)
â”œâ”€â”€ content.js                    # ê¸°ì¡´ ì§„ì…ì  (ë°±ì—…)
â”œâ”€â”€ background.js                 # ë°±ê·¸ë¼ìš´ë“œ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ popup.html                    # íŒì—… HTML
â”œâ”€â”€ popup.js                      # íŒì—… ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ styles.css                    # ìŠ¤íƒ€ì¼ì‹œíŠ¸
â””â”€â”€ manifest.json                 # í™•ì¥ í”„ë¡œê·¸ë¨ ë§¤ë‹ˆí˜ìŠ¤íŠ¸
```

## ğŸ—ï¸ ì•„í‚¤í…ì²˜ ê°œì„ ì‚¬í•­

### 1. ëª¨ë“ˆí™”ëœ êµ¬ì¡°

- **ê´€ì‹¬ì‚¬ ë¶„ë¦¬**: UI, ë¡œì§, ì €ì¥ì†Œ, ìœ í‹¸ë¦¬í‹°ê°€ ëª…í™•íˆ ë¶„ë¦¬
- **ì¬ì‚¬ìš©ì„±**: ê° ëª¨ë“ˆì´ ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ë° ì¬ì‚¬ìš© ê°€ëŠ¥
- **í™•ì¥ì„±**: ìƒˆë¡œìš´ í•„í„°ë‚˜ ê¸°ëŠ¥ ì¶”ê°€ê°€ ìš©ì´

### 2. ê°ì²´ì§€í–¥ ì„¤ê³„

- **ì¶”ìƒí™”**: BaseFilterë¥¼ í†µí•œ ì¼ê´€ëœ í•„í„° ì¸í„°í˜ì´ìŠ¤
- **ë‹¤í˜•ì„±**: ë‹¤ì–‘í•œ í•„í„° íƒ€ì…ì„ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬
- **ìº¡ìŠí™”**: ê° í´ë˜ìŠ¤ì˜ ì±…ì„ì´ ëª…í™•íˆ ì •ì˜

### 3. ì´ë²¤íŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜

- **ëŠìŠ¨í•œ ê²°í•©**: ì»´í¬ë„ŒíŠ¸ ê°„ ì§ì ‘ ì˜ì¡´ì„± ìµœì†Œí™”
- **ì½œë°± íŒ¨í„´**: UI ë³€ê²½ ì‹œ ì ì ˆí•œ ì½œë°± ì‹¤í–‰

## ğŸ“‹ ì£¼ìš” í´ë˜ìŠ¤ ì„¤ëª…

### FilterManager (í•µì‹¬)

- ëª¨ë“  í•„í„°ë§ ë¡œì§ì„ ê´€ë¦¬
- DOM ê´€ì°° ë° ìƒˆë¡œìš´ ë§¤ë¬¼ ì²˜ë¦¬
- ì €ì¥ì†Œ ê´€ë¦¬ì™€ ì—°ë™

### FilterRegistry

- í•„í„° ë“±ë¡ ë° ê´€ë¦¬
- í™œì„±í™”ëœ í•„í„°ë“¤ì„ ì´ìš©í•œ ë§¤ë¬¼ í•„í„°ë§ ê²°ì •
- í•„í„° ìƒíƒœ ì§ë ¬í™”/ì—­ì§ë ¬í™”

### FilterPanel (UI)

- ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ìƒì„± ë° ê´€ë¦¬
- í•„í„° ì˜µì…˜ í† ê¸€ ì´ë²¤íŠ¸ ì²˜ë¦¬
- ì²´í¬ë°•ìŠ¤ ê°€ì‹œì„± ë³´ì¥

### StorageManager

- Chrome Extension Storage ìš°ì„  ì‚¬ìš©
- LocalStorage ëŒ€ì²´ ì§€ì›
- ë¹„ë™ê¸° ì €ì¥/ë¶ˆëŸ¬ì˜¤ê¸°

### DOMObserver

- MutationObserverë¥¼ ì´ìš©í•œ DOM ë³€í™” ê°ì§€
- ìƒˆë¡œìš´ ë§¤ë¬¼ ì¶”ê°€ ì‹œ ìë™ í•„í„° ì ìš©
- ì„±ëŠ¥ ìµœì í™”ëœ ë³€í™” ê°ì§€

## ğŸ”§ ê°œë°œ ì´ì 

### 1. ìœ ì§€ë³´ìˆ˜ì„±

```javascript
// ìƒˆë¡œìš´ í•„í„° ì¶”ê°€ê°€ ê°„ë‹¨í•¨
class PriceFilter extends BaseFilter {
  shouldFilter(listing) {
    // ê°€ê²© í•„í„° ë¡œì§
  }
}

// ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ë“±ë¡ë§Œ í•˜ë©´ ë¨
filterRegistry.registerFilter(new PriceFilter("price", "ê°€ê²©"));
```

### 2. í…ŒìŠ¤íŠ¸ ìš©ì´ì„±

```javascript
// ê° ëª¨ë“ˆì„ ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥
const filterManager = new FilterManager();
const result = filterManager.filterListings();
expect(result.hidden).toBe(expectedCount);
```

### 3. í™•ì¥ì„±

```javascript
// ìƒˆë¡œìš´ UI ì»´í¬ë„ŒíŠ¸ ì¶”ê°€
class AdvancedFilterPanel extends FilterPanel {
  // ê³ ê¸‰ í•„í„° UI êµ¬í˜„
}
```

## ğŸš€ ì‚¬ìš©ë²•

### ê¸°ë³¸ ì‚¬ìš©

```javascript
// í™•ì¥ í”„ë¡œê·¸ë¨ì´ ìë™ìœ¼ë¡œ ì´ˆê¸°í™”ë¨
// window.naverLandFilterë¡œ ì ‘ê·¼ ê°€ëŠ¥

// í•„í„° ìƒíƒœ í™•ì¸
const hasActiveFilters = naverLandFilter.filterManager.hasActiveFilters();

// ìˆ˜ë™ í•„í„° ì ìš©
const result = naverLandFilter.filterManager.filterListings();
```

### ì»¤ìŠ¤í…€ í•„í„° ì¶”ê°€

```javascript
// 1. BaseFilterë¥¼ ìƒì†í•œ ìƒˆ í•„í„° í´ë˜ìŠ¤ ìƒì„±
class CustomFilter extends BaseFilter {
  shouldFilter(listing) {
    // ì»¤ìŠ¤í…€ í•„í„° ë¡œì§
    return someCondition;
  }
}

// 2. í•„í„° ë“±ë¡
const customFilter = new CustomFilter("custom", "ì»¤ìŠ¤í…€ í•„í„°");
naverLandFilter.filterManager.getFilterRegistry().registerFilter(customFilter);

// 3. UI ì—…ë°ì´íŠ¸ (í•„ìš”ì‹œ)
naverLandFilter.filterPanel.refresh();
```

## ğŸ“ ê°œë°œ ê°€ì´ë“œë¼ì¸

### 1. ìƒˆ í•„í„° ì¶”ê°€ ì‹œ

1. `src/filters/` ë””ë ‰í† ë¦¬ì— ìƒˆ í•„í„° í´ë˜ìŠ¤ ìƒì„±
2. `BaseFilter`ë¥¼ ìƒì†í•˜ì—¬ `shouldFilter` ë©”ì„œë“œ êµ¬í˜„
3. `FilterRegistry`ì˜ `initializeDefaultFilters`ì—ì„œ ë“±ë¡
4. UI í•„ìš”ì‹œ `FilterPanel`ì—ì„œ HTML ìƒì„± ë¡œì§ ìˆ˜ì •

### 2. ìƒˆ UI ì»´í¬ë„ŒíŠ¸ ì¶”ê°€ ì‹œ

1. `src/ui/` ë””ë ‰í† ë¦¬ì— ìƒˆ í´ë˜ìŠ¤ ìƒì„±
2. ìƒì„±ìì—ì„œ í•„ìš”í•œ ì˜ì¡´ì„± ì£¼ì…ë°›ê¸°
3. ì´ë²¤íŠ¸ í•¸ë“¤ë§ì„ í†µí•œ ëŠìŠ¨í•œ ê²°í•© ìœ ì§€

### 3. ì €ì¥ì†Œ í™•ì¥ ì‹œ

1. `StorageManager`ì— ìƒˆë¡œìš´ ì €ì¥ ë°©ì‹ ì¶”ê°€
2. ê¸°ì¡´ ë°©ì‹ê³¼ì˜ í˜¸í™˜ì„± ìœ ì§€
3. ì—ëŸ¬ ì²˜ë¦¬ ë° ëŒ€ì²´ ë°©ì•ˆ êµ¬í˜„

## ğŸ”„ ë§ˆì´ê·¸ë ˆì´ì…˜

ê¸°ì¡´ `content.js`ì—ì„œ ìƒˆë¡œìš´ êµ¬ì¡°ë¡œ:

```javascript
// ê¸°ì¡´: ëª¨ë“  ê²ƒì´ í•˜ë‚˜ì˜ í´ë˜ìŠ¤ì—
class NaverLandFilter {
  // 600+ ë¼ì¸ì˜ ì½”ë“œ
}

// ìƒˆë¡œìš´ êµ¬ì¡°: ì—­í• ë³„ë¡œ ë¶„ë¦¬
- FilterManager: í•„í„°ë§ ë¡œì§
- FilterPanel: UI ê´€ë¦¬
- StorageManager: ì €ì¥ì†Œ ê´€ë¦¬
- DOMObserver: DOM ê°ì§€
// ê°ê° 50-100 ë¼ì¸ì˜ ì§‘ì¤‘ëœ ì½”ë“œ
```

ì´ êµ¬ì¡°í™”ëœ ì ‘ê·¼ ë°©ì‹ì„ í†µí•´ ì½”ë“œì˜ ê°€ë…ì„±, ìœ ì§€ë³´ìˆ˜ì„±, í™•ì¥ì„±ì´ í¬ê²Œ í–¥ìƒë˜ì—ˆìŠµë‹ˆë‹¤.
